Version 4.1
SHEET 1 1872 1280
WIRE 64 64 32 64
WIRE 112 64 64 64
WIRE 160 64 112 64
WIRE 176 64 160 64
WIRE 272 64 256 64
WIRE 320 64 272 64
WIRE 368 64 320 64
WIRE 720 64 464 64
WIRE 784 64 720 64
WIRE 864 64 784 64
WIRE 864 96 864 64
WIRE 32 112 32 64
WIRE 160 112 160 64
WIRE 192 112 160 112
WIRE 272 112 272 64
WIRE 272 112 224 112
WIRE 192 144 192 112
WIRE 224 144 224 112
WIRE 384 144 384 112
WIRE 864 192 864 160
WIRE 32 224 32 192
WIRE 112 256 112 64
WIRE 176 256 176 240
WIRE 176 256 112 256
WIRE 480 256 448 256
WIRE 576 256 480 256
WIRE 720 256 720 64
WIRE 720 256 672 256
WIRE 208 272 208 240
WIRE 240 288 240 240
WIRE 272 288 240 288
WIRE 448 304 448 256
WIRE 240 320 240 288
WIRE 592 336 592 304
WIRE 240 416 240 400
WIRE 448 416 448 384
WIRE 640 512 528 512
WIRE 832 512 704 512
WIRE 1552 528 1440 528
WIRE 1744 528 1616 528
WIRE -128 544 -128 512
WIRE -416 576 -416 560
WIRE 528 624 528 512
WIRE 640 624 528 624
WIRE 832 624 832 512
WIRE 832 624 720 624
WIRE -48 640 -192 640
WIRE 1440 640 1440 528
WIRE 1552 640 1440 640
WIRE 1744 640 1744 528
WIRE 1744 640 1632 640
WIRE -128 656 -128 624
WIRE -416 672 -416 656
WIRE -416 672 -432 672
WIRE -192 672 -192 640
WIRE -160 672 -192 672
WIRE -48 672 -48 640
WIRE -416 688 -416 672
WIRE -48 688 -48 672
WIRE -48 688 -96 688
WIRE -160 704 -176 704
WIRE -128 768 -128 720
WIRE 288 768 208 768
WIRE 528 768 528 624
WIRE 528 768 368 768
WIRE -416 784 -416 768
WIRE 1200 784 1104 784
WIRE 1440 784 1440 640
WIRE 1440 784 1280 784
WIRE 528 832 528 768
WIRE 576 832 528 832
WIRE 624 832 576 832
WIRE 832 848 832 624
WIRE 832 848 752 848
WIRE 912 848 832 848
WIRE 1440 848 1440 784
WIRE 1488 848 1440 848
WIRE 1536 848 1488 848
WIRE 288 864 208 864
WIRE 416 864 368 864
WIRE 480 864 416 864
WIRE 576 864 480 864
WIRE 624 864 576 864
WIRE 1744 864 1744 640
WIRE 1744 864 1664 864
WIRE 1824 864 1744 864
WIRE 1200 880 1120 880
WIRE 1328 880 1280 880
WIRE 1392 880 1328 880
WIRE 1488 880 1392 880
WIRE 1536 880 1488 880
WIRE 208 896 208 864
WIRE 416 912 416 864
WIRE 480 912 480 864
WIRE 1328 928 1328 880
WIRE 1392 928 1392 880
WIRE 208 992 208 976
WIRE 416 1040 416 992
WIRE 480 1040 480 976
WIRE 1328 1056 1328 1008
WIRE 1392 1056 1392 992
FLAG 32 224 0
FLAG 208 272 0
FLAG 240 416 0
FLAG 272 288 CURR
FLAG 64 64 IN
FLAG 448 416 0
FLAG 480 256 CAP
FLAG 384 144 G1
FLAG 592 336 G2
FLAG 864 192 0
FLAG -128 512 0
FLAG -128 768 0
FLAG -176 704 CURR
FLAG -48 672 CURRB
FLAG -416 784 VEE
FLAG -416 560 VCC
FLAG -432 672 0
FLAG 208 992 0
FLAG 416 1040 0
FLAG 480 1040 0
FLAG 688 768 VCC
FLAG 688 928 VEE
FLAG 912 848 G1
FLAG 208 768 CURRB
FLAG 208 864 CURR_LIMIT
FLAG 1328 1056 0
FLAG 1392 1056 0
FLAG 1600 784 VCC
FLAG 1600 944 VEE
FLAG 1824 864 G2
FLAG 1120 880 CURRB
FLAG 1104 784 CURR_LIMIT
FLAG 320 64 MID
FLAG 784 64 OUT
FLAG 576 864 1+
FLAG 576 832 1-
FLAG 1488 880 2+
FLAG 1488 848 2-
SYMBOL voltage 32 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL res 272 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 20m
SYMBOL INA138 208 192 M90
SYMATTR InstName U1
SYMBOL res 224 304 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL nmos 464 112 M270
SYMATTR InstName M1
SYMATTR Value BSC015NE2LS5I
SYMBOL voltage 448 288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 24
SYMBOL load 848 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 1
SYMBOL OpAmps\\UniversalOpAmp3 -128 688 R0
SYMATTR InstName U2
SYMBOL voltage -128 640 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 3.3
SYMBOL voltage -416 560 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 36
SYMBOL voltage -416 672 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 0
SYMBOL TLV07 688 848 R0
SYMATTR InstName U3
SYMBOL voltage 208 880 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 0.75
SYMBOL res 384 848 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {R}
SYMBOL res 432 896 M0
SYMATTR InstName R4
SYMATTR Value {A*R}
SYMBOL cap 464 912 R0
SYMATTR InstName C1
SYMATTR Value {1/(A*R*wc)}
SYMBOL res 384 752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {R}
SYMBOL res 736 640 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value {A*R}
SYMBOL cap 704 496 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {1/(A*R*wc)}
SYMBOL TLV07 1600 864 R0
SYMATTR InstName U4
SYMBOL res 1296 864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {R}
SYMBOL res 1344 912 M0
SYMATTR InstName R8
SYMATTR Value {A*R}
SYMBOL cap 1376 928 R0
SYMATTR InstName C3
SYMATTR Value {1/(A*R*wc)}
SYMBOL res 1296 768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {R}
SYMBOL res 1648 656 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value {A*R}
SYMBOL cap 1616 512 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value {1/(A*R*wc)}
SYMBOL nmos 672 304 M270
SYMATTR InstName M2
SYMATTR Value BSC015NE2LS5I
TEXT 728 1240 Left 2 !.param R=250 A=1000 wc=100
TEXT 88 528 Left 2 !.op
TEXT 72 488 Left 2 ;.tran 0 1m 100u startup uic
